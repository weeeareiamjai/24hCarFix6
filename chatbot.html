<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó (Chatbot) - LyCar</title>
    <link rel="icon" href="/CarLogo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> 
    
    <style>
        /* ‡∏à‡∏±‡∏î layout ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏ä‡∏ó */
        #chat-window {
            display: flex;
            flex-direction: column;
            gap: 15px;
            scroll-behavior: smooth;
        }

        /* ‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏ü‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ */
        .chat-msg {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.5;
            word-wrap: break-word;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        /* üë§ ‡∏ü‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° User (‡∏Ç‡∏ß‡∏≤) */
        .user-msg {
            align-self: flex-end;
            background-color: var(--primary, #FFC107); /* ‡∏™‡∏µ‡∏ó‡∏≠‡∏á */
            color: #000; /* ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏î‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ */
            border-bottom-right-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ü§ñ ‡∏ü‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° AI (‡∏ã‡πâ‡∏≤‡∏¢) */
        .ai-msg {
            align-self: flex-start;
            background-color: var(--bg-input, #f0f0f0);
            color: var(--text-main, #333);
            border-bottom-left-radius: 4px;
            border: 1px solid var(--border-color, #ddd);
        }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ AI Bubble ‡∏ï‡∏≠‡∏ô Dark Mode */
        [data-theme="dark"] .ai-msg {
            background-color: #333;
            color: #eee;
            border-color: #444;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body data-theme="dark">

    <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>

    <nav class="sidebar">
        <div class="logo">üöó LyCar</div>
        <a href="home.html" class="menu-item">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (Home)</a>
        <a href="index.html" class="menu-item">üì∞ ‡∏ü‡∏µ‡∏î‡∏ä‡∏∏‡∏°‡∏ä‡∏ô (Feed)</a>
        <a href="missions.html" class="menu-item">üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à (Missions)</a>
        <a href="rewards.html" class="menu-item">üéÅ ‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Rewards)</a>
        <a href="chatbot.html" class="menu-item active">üí¨ ‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó (Chatbot)</a>
        <a href="minigame.html" class="menu-item">üïπÔ∏è ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏° (Mini Games)</a>
        <a href="map.html" class="menu-item">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (Map)</a>
        <a href="car_health.html" class="menu-item">üíñ ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏£‡∏ñ (Car Health)</a>
        <a href="shop.html" class="menu-item">üõí ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (Shop)</a>
        <a href="profile.html" class="menu-item">üë§ ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (My Profile)</a>
        <a href="#" onclick="logout()" class="menu-item logout-btn">
            üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
        </a>
    </nav>

    <main class="main-content">
        
        <header>
            <button onclick="toggleTheme()" class="theme-toggle-btn" id="theme-toggle-btn">
                <span id="theme-icon"></span>
            </button>
            <div class="user-info">
                <h2>‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</h2>
                <p>‡πÄ‡∏£‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>
            <div class="user-stats">
                üíé <span id="userPoints">0</span> ‡πÅ‡∏ï‡πâ‡∏°
            </div>
        </header>

        <section id="chatbot" class="page-section active">
            <div class="post-card" id="chat-window" style="height: 60vh; overflow-y: auto; padding-bottom: 20px; margin-bottom: 20px;">
                <div class="chat-msg ai-msg">
                    ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏î‡πâ‡∏≤‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå üöóüîß <br>‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏ñ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡∏ñ‡∏≤‡∏°‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!
                </div>
            </div>

            <div id="chat-input-container" class="post-card" style="padding: 15px; border-top: 1px solid var(--border-color);">
                <form id="chatForm" style="display: flex; gap: 10px;" onsubmit="event.preventDefault(); sendAIMessage();">
                    <input 
                        type="text" 
                        id="ai-input" 
                        placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏ñ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î, ‡πÅ‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÄ‡∏¢‡πá‡∏ô..." 
                        style="flex-grow: 1; padding: 12px; border-radius: 50px; border: 1px solid var(--border-color); background-color: var(--bg-input); color: var(--text-main); outline: none;"
                        autocomplete="off"
                    >
                    <button type="submit" class="btn-action" style="width: auto; padding: 0 25px; border-radius: 50px; margin: 0;">
                        ‡∏™‡πà‡∏á ‚úàÔ∏è
                    </button>
                </form>
            </div>
        </section>

    </main>
    
    <script src="script.js"></script>
</body>
</html>